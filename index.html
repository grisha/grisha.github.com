<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Gregory Trubetskoy</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="" /><meta name="description" content="Notes to self." />






<meta name="generator" content="Hugo 0.146.0 with theme even" />


<link rel="canonical" href="https://grisha.org/" />
  <link href="https://grisha.org/atom.xml" rel="alternate" type="application/rss+xml" title="Gregory Trubetskoy" />
  <link href="https://grisha.org/atom.xml" rel="feed" type="application/rss+xml" title="Gregory Trubetskoy" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">

<link rel="stylesheet" href="/css/custom.css">


<meta property="og:url" content="https://grisha.org/">
  <meta property="og:site_name" content="Gregory Trubetskoy">
  <meta property="og:title" content="Gregory Trubetskoy">
  <meta property="og:description" content="Notes to self.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="website">

  <meta itemprop="name" content="Gregory Trubetskoy">
  <meta itemprop="description" content="Notes to self.">
  <meta itemprop="datePublished" content="2020-05-08T12:22:00+00:00">
  <meta itemprop="dateModified" content="2020-05-08T12:22:00+00:00">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Gregory Trubetskoy">
  <meta name="twitter:description" content="Notes to self.">

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Gregory Trubetskoy</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/posts/">
        <li class="mobile-menu-item">Archives</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">Gregory Trubetskoy</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/posts/">Archives</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <section id="posts" class="posts">
    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/blog/2018/01/23/explaining-proof-of-work/">Blockchain Proof-of-Work is a Decentralized Clock</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2018-01-23 </span>
      
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      <p>This is an explanation of the key function on Proof-of-Work in the
Bitcoin blockchain.  It focuses on the one feature of Proof-of-Work
that is essential and shows that other features often talked about
such as security are secondary side-effects, useful, but not
essential.</p>
<p>This explanation rests on illustrating a few interesting properties of
how Proof-of-Work is used in the blockchain that are not immediately
obvious and sometimes are rather counter-intuitive, for example how
participants collectively solve a problem without <em>ever
communicating</em>.</p>
    </div>
    <div class="read-more">
      <a href="/blog/2018/01/23/explaining-proof-of-work/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/blog/2017/12/15/blockchain-and-postgres/">The Bitcoin Blockchain PostgresSQL Schema</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2017-12-15 </span>
      
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      <p>In a <a href="/blog/2017/10/10/postgre-as-a-full-node/">previous post</a> I wrote
some initial thoughts on storing the blockchain in Postgres. It&rsquo;s been
a couple of months and I&rsquo;ve made some progress on the
<a href="https://github.com/blkchain/blkchain">import project</a>. This post documents
the latest incarnation of the SQL schema used to store the
blockchain as well as thoughts on why it was decided to be this way.</p>
<h2 id="blockchain-data-structure-overview">Blockchain Data Structure Overview</h2>
<p>The <a href="https://bitcoin.org/en/developer-reference#block-chain">Bitcoin blockchain</a>
consists of <em><a href="https://bitcoin.org/en/developer-reference#serialized-blocks">blocks</a></em>.
A block is a set of <em><a href="https://bitcoin.org/en/developer-reference#raw-transaction-format">transactions</a></em>.
A block also contains some <a href="https://bitcoin.org/en/developer-reference#block-headers">block-specific information</a>,
such as the nonce for the <a href="https://en.bitcoin.it/wiki/Proof_of_work">Proof-Of-Work</a> validating the block.</p>
    </div>
    <div class="read-more">
      <a href="/blog/2017/12/15/blockchain-and-postgres/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/blog/2017/10/20/blockchain-in-postgresql-part-2/">Blockchain in PostgreSQL Part 2</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2017-10-20 </span>
      
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      <p>Update: there is now a <a href="/blog/2017/12/15/blockchain-and-postgres/">better write up</a>
of the PostgreSQL schema. This post was rather half-baked as much was
still not understood when I wrote it.</p>
<p>In a <a href="/blog/2017/10/10/postgre-as-a-full-node/">previous post</a> I
described a simplistic schema to store the Bitcoin blockchain in
PostgreSQL. In this post I&rsquo;m investigating pushing the envelope
with a bit of C programming.</p>
<h3 id="the-missing-functionality">The Missing Functionality</h3>
<p>Postgres cannot do certain things required to fully handle
transactions. The missing functionality is (at least):</p>
    </div>
    <div class="read-more">
      <a href="/blog/2017/10/20/blockchain-in-postgresql-part-2/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/blog/2017/10/10/postgre-as-a-full-node/">Bitcoin Transaction Hash in Pure PostgreSQL</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2017-10-10 </span>
      
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      <p>Update: hacked together
<a href="https://github.com/blkchain/pg_blkchain">this</a>, more details to
follow later&hellip;</p>
<p>In theory, Postgres should be able to verify transactions and blocks,
as well as do a lot of other things that are currently only done by
full nodes. For this to be performant, it will most likely require an
extension written in C, but I&rsquo;m curious how far we can get with bare
bones Postgres.</p>
<p>More importantly, would that actually be useful? A node is really
just a database, a very efficient one for a very specific purpose, but
would leveraging the full power of Postgres be somehow more beneficial
than just running Bitcoin-Qt or btcd, for example?</p>
    </div>
    <div class="read-more">
      <a href="/blog/2017/10/10/postgre-as-a-full-node/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/blog/2017/09/28/electricity-cost-of-1-bitcoin/">Electricity cost of 1 Bitcoin (Sep 2017)</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2017-09-28 </span>
      
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      <p>How much does it cost in electricity to mine a Bitcoin?</p>
<p>As of Sep 28, 2017, according to blockchain.info the hashrate is:
9,214,860,125 GH/s.</p>
<p>These days it seems that the best miner available for sale is the
AntMiner S9. It is actually over a year old, and there are faster and
more energy efficient ASICs now, e.g. BitFury, but it is very hard to
get any information on those, so we will just use the S9 information.</p>
    </div>
    <div class="read-more">
      <a href="/blog/2017/09/28/electricity-cost-of-1-bitcoin/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/blog/2017/09/25/bitcoin-value-2/">Bitcoin: USD Value</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2017-09-25 </span>
      
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      <p>In <a href="/blog/2017/09/22/bitcoin-value/">part 1</a> I explained
how money has always been a global ledger and Bitcoin is just a
different implementation of one. The million dollar question remains,
what should Bitcoin be worth in a currency we&rsquo;re more familiar with,
such as USD?</p>
<h3 id="asset-pricing">Asset Pricing</h3>
<p>To illustrate the dilemma we&rsquo;re faced with, lets look at three types
of assets and how we price them.</p>
<p><em>Stocks:</em> price is determined by the present and future profits, which
is relatively straight forward.</p>
    </div>
    <div class="read-more">
      <a href="/blog/2017/09/25/bitcoin-value-2/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/blog/2017/09/22/bitcoin-value/">Bitcoin: Better Ink than Gold?</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2017-09-22 </span>
      
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      <p>The fundamental question about Bitcoin is not whether it is sound from
the cryptography standpoint. The question is: what is it?</p>
<h3 id="money-is-debt-ink">Money is Debt Ink</h3>
<p>To define Bitcoin we need to look back at the history of <em>money</em>.  The
earliest money was in the form of things that were scarce and
impossible to falsify, something like specific kinds of sea shells.
Everyone knew that stuff could be traded for these tokens.</p>
    </div>
    <div class="read-more">
      <a href="/blog/2017/09/22/bitcoin-value/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/blog/2017/07/04/tgres-status-july-2017/">Tgres Status - July 4th 2017</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2017-07-04 </span>
      
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      <p>It&rsquo;s been a while since I&rsquo;ve written on
<a href="https://github.com/tgres/tgres">Tgres</a>,
here&rsquo;s a little update, Independence Day edition.</p>
<h3 id="current-status">Current Status</h3>
<p>The current status is that Tgres is looking more and more like a
finished product. It still needs time and especially user testing (the
ball is in your court, dear reader), because only time reveals the
weirdest of bugs and validates stability. I would not ditch your
current stack just yet, but at this point you&rsquo;d be remiss not
having given Tgres a spin.</p>
    </div>
    <div class="read-more">
      <a href="/blog/2017/07/04/tgres-status-july-2017/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/blog/2017/04/27/simplistic-go-web-app/">Building a Go Web App in 2017</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2017-04-27 </span>
      
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      <p>Update: <a href="/blog/2017/04/27/simplistic-go-web-app-part-2/">part 2</a> is
here, enjoy. And <a href="/blog/2017/04/27/go-web-app-part-3/">part 3</a>. And
<a href="/blog/2017/04/27/go-web-app-part-4/">part 4</a>.</p>
<p>A few weeks ago I started building yet another web-based app, in
<a href="https://golang.org/">Go</a>. Being mostly a back-end developer, I don&rsquo;t
have to write web apps very often, and every time I do, it seems like a great challenge.
I often wish someone would write a guide to web development for people
who do not have all day to get into the intricacies of great design
and just need to build a functional site that works without too much
fuss.</p>
    </div>
    <div class="read-more">
      <a href="/blog/2017/04/27/simplistic-go-web-app/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/blog/2017/04/27/simplistic-go-web-app-part-2/">Building a Go Web App - Part 2</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2017-04-27 </span>
      
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      <p>This is a continuation of <a href="/blog/2017/04/27/simplistic-go-web-app/">part 1</a>.
(There is also <a href="/blog/2017/04/27/go-web-app-part-3/">part 3</a>
and <a href="/blog/2017/04/27/go-web-app-part-4/">part 4</a>).</p>
<p>So our app is going to have two major parts to it: client and
server. (What year is this?). The server side is going to be in Go,
and the client side in JS. Let&rsquo;s talk about the server side first.</p>
<h2 id="the-go-server-side">The Go (Server) Side</h2>
<p>The server side of our application is going to be responsible for
initially serving up all the necessary JavaScript and supporting files
if any, aka static assets and data in the form of JSON. That&rsquo;s it,
just two functions: (1) static assets and (2) JSON.</p>
    </div>
    <div class="read-more">
      <a href="/blog/2017/04/27/simplistic-go-web-app-part-2/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    </section>
  
  <nav class="pagination">
    
    <a class="next" href="/page/2/">
        <span class="next-text">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
  </nav>
        </div>
        

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  
    <a href="/atom.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
  
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2013 - 
    2026<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  <script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>
  



<script type="text/javascript" src="/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js"></script>
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js" integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin="anonymous"></script>








</body>
</html>
