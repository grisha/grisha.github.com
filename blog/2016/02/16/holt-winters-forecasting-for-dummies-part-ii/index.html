<!DOCTYPE html>
<html lang="en-us">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Holt-Winters Forecasting for Dummies - Part II | Gregory Trubetskoy</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="If you haven&rsquo;t read Part I
you probably should, or the following will be hard to make sense of.
All the forecasting methods we covered so far, including single
exponential smoothing, were only good at predicting a single
point. We can do better than that, but first we need to be introduced to
a couple of new terms.
More terminology
Level
Expected value has another name, which, again varies depending on who wrote the
text book: baseline, intercept (as in
Y-intercept) or
level. We will stick with &ldquo;level&rdquo; here.">
    <meta name="generator" content="Hugo 0.146.0">
    
    
    
      <meta name="robots" content="noindex, nofollow">
    
    <meta name="author" content="Gregory Trubetskoy">
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >




    


    
      

    

    

    
      <link rel="canonical" href="http://localhost:1313/blog/2016/02/16/holt-winters-forecasting-for-dummies-part-ii/">
    

    
    
    <meta property="og:url" content="http://localhost:1313/blog/2016/02/16/holt-winters-forecasting-for-dummies-part-ii/">
  <meta property="og:site_name" content="Gregory Trubetskoy">
  <meta property="og:title" content="Holt-Winters Forecasting for Dummies - Part II">
  <meta property="og:description" content="If you haven’t read Part I you probably should, or the following will be hard to make sense of.
All the forecasting methods we covered so far, including single exponential smoothing, were only good at predicting a single point. We can do better than that, but first we need to be introduced to a couple of new terms.
More terminology Level Expected value has another name, which, again varies depending on who wrote the text book: baseline, intercept (as in Y-intercept) or level. We will stick with “level” here.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2016-02-16T13:05:00+00:00">
    <meta property="article:modified_time" content="2016-02-16T13:05:00+00:00">

  <meta itemprop="name" content="Holt-Winters Forecasting for Dummies - Part II">
  <meta itemprop="description" content="If you haven’t read Part I you probably should, or the following will be hard to make sense of.
All the forecasting methods we covered so far, including single exponential smoothing, were only good at predicting a single point. We can do better than that, but first we need to be introduced to a couple of new terms.
More terminology Level Expected value has another name, which, again varies depending on who wrote the text book: baseline, intercept (as in Y-intercept) or level. We will stick with “level” here.">
  <meta itemprop="datePublished" content="2016-02-16T13:05:00+00:00">
  <meta itemprop="dateModified" content="2016-02-16T13:05:00+00:00">
  <meta itemprop="wordCount" content="834">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Holt-Winters Forecasting for Dummies - Part II">
  <meta name="twitter:description" content="If you haven’t read Part I you probably should, or the following will be hard to make sense of.
All the forecasting methods we covered so far, including single exponential smoothing, were only good at predicting a single point. We can do better than that, but first we need to be introduced to a couple of new terms.
More terminology Level Expected value has another name, which, again varies depending on who wrote the text book: baseline, intercept (as in Y-intercept) or level. We will stick with “level” here.">

	
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    jax: ["input/TeX", "output/HTML-CSS"],
    tex2jax: {
      inlineMath: [ ['$', '$'] ],
      displayMath: [ ['$$', '$$']],
      processEscapes: true,
    },
    messageStyle: "none",
    "HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] }
  });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script>

  </head><body class="ma0 avenir bg-near-white development">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l center items-center justify-between">
    <a href="/" class="f3 fw2 hover-white white-90 dib no-underline">
      
        Gregory Trubetskoy
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white white-90 no-underline" href="/archives/" title="Archives page">
              Archives
            </a>
          </li>
          
        </ul>
      
      <div class="ananke-socials"></div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l mw7 center ph3 flex-wrap justify-between">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
          
        Posts
      </aside><div id="sharing" class="mt3 ananke-socials"></div>
<h1 class="f1 athelas mt3 mb1">Holt-Winters Forecasting for Dummies - Part II</h1>
      
      <p class="tracked"><strong>Gregory Trubetskoy</strong>
      </p>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2016-02-16T13:05:00Z">February 16, 2016</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-100-l"><p>If you haven&rsquo;t read <a href="/blog/2016/01/29/triple-exponential-smoothing-forecasting/">Part I</a>
you probably should, or the following will be hard to make sense of.</p>
<p>All the forecasting methods we covered so far, including single
exponential smoothing, were only good at predicting a single
point. We can do better than that, but first we need to be introduced to
a couple of new terms.</p>
<h2 id="more-terminology">More terminology</h2>
<h3 id="level"><em>Level</em></h3>
<p>Expected value has another name, which, again varies depending on who wrote the
text book: <em>baseline</em>, <em>intercept</em> (as in
<a href="https://en.wikipedia.org/wiki/Y-intercept">Y-intercept</a>) or
<em>level</em>. We will stick with &ldquo;level&rdquo; here.</p>
<p>So level is that one predicted point that we learned how to calculate
in Part I. But because now it&rsquo;s going to be only part of calculation
of the forcast, we can no longer refer to it as $\hat{y}$ and will instead
use $\ell$.</p>
<h3 id="trend-or-slope"><em>Trend</em> or <em>Slope</em></h3>
<p>You should be familiar with
<a href="https://en.wikipedia.org/wiki/Slope">slope</a> from your high school algebra
class. What you might be a little rusty on is how to calculate it,
which is important, because a series slope has an interesting
characteristic. Slope is:</p>
$$
m = \dfrac{\Delta{y}} {\Delta{x}}
$$<p>where $\Delta{y}$ is the difference in the $y$ coordinates and
$\Delta{x}$ is the difference in the $x$ coordinates, respectively,
between two points. While in real algebraic problems $\Delta{x}$ could
be anything, in a series, from one point to the next, it is always</p>
<ol>
<li>Which means that for a series, slope between two adjacent points
is simply $\dfrac{\Delta{y}} {1}$ or $\Delta{y}$, or:</li>
</ol>
$$
b = y_x - y_{x-1}
$$<p>Where $b$ is <em>trend</em>. To the best of my understanding terms &ldquo;trend&rdquo;
and &ldquo;slope&rdquo; are interchangeable. In forecasting parlance &ldquo;trend&rdquo; is
more common, and in math notation forecasters refer to it as $b$
rather than $m$.</p>
<h4 id="additive-vs-multiplicative">Additive vs Multiplicative</h4>
<p>Another thing to know about trend is that instead of subtracting
$y\_{x-1}$ from $y\_x$, we could divide one by the other thereby
getting a ratio. The difference between these two approaches is
similar to how we can say that something costs $20 more or 5%
more. The variant of the method based on subtraction is known as
<em>additive</em>, while the one based on division is known as
<em>multiplicative</em>.</p>
<p>Practice shows that a ratio (i.e. multiplicative) is a more stable
predictor. The additive method, however is simpler to understand, and
going from additive to multiplicative is trivial once you understand
this whole thing. For this reason we will stick with the additive
method here, leaving the multiplicative method an exercise for the
reader.</p>
<h2 id="double-exponential-smoothing">Double Exponential Smoothing</h2>
<p>So now we have two components to a series: level and trend. In Part I
we learned several methods to forecast the level, and it should follow
that every one of these methods can be applied to the trend
just as well. E.g. the naive method would assume that trend between
last two points is going to stay the same, or we could average all
slopes between all points to get an average trend, use a moving trend
average or apply exponential smoothing.</p>
<p>Double exponential smoothing then is nothing more than exponential
smoothing applied to both level and trend. To express this in
mathematical notation we now need three equations: one for level, one
for the trend and one to combine the level and trend to get the
expected $\hat{y}$.</p>
$$
\begin{align}
& \ell_x = \alpha y_x + (1-\alpha)(\ell_{x-1} + b_{x-1})& \mbox{level} \\
& b_x = \beta(\ell_x - \ell_{x-1}) + (1-\beta)b_{x-1} & \mbox{trend} \\
& \hat{y}_{x+1} = \ell_x + b_x & \mbox{forecast}\\
\end{align}
$$<p>The first equation is from Part I, only now we&rsquo;re using $\ell$ instead
of $\hat{y}$ and on the right side the expected value becomes the sum
of level end trend.</p>
<p>The second equation introduces $\beta$, the <em>trend factor</em> (or
coefficient). As with $\alpha$, some values of ${\beta}$ work better
than others depending on the series.</p>
<p>Similarly to single exponential smoothing, where we used the first
observed value as the first expected, we can use the first observed
trend as the first expected. Of course we need at least two points to
compute the initial trend.</p>
<p>Because we have a level and a trend, this method can forecast not one,
but two data points. In Python:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># given a series and alpha, return series of smoothed points</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">double_exponential_smoothing</span>(series, alpha, beta):
</span></span><span style="display:flex;"><span>    result <span style="color:#f92672">=</span> [series[<span style="color:#ae81ff">0</span>]]
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> n <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">1</span>, len(series)<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> n <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>:
</span></span><span style="display:flex;"><span>            level, trend <span style="color:#f92672">=</span> series[<span style="color:#ae81ff">0</span>], series[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">-</span> series[<span style="color:#ae81ff">0</span>]
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> n <span style="color:#f92672">&gt;=</span> len(series): <span style="color:#75715e"># we are forecasting</span>
</span></span><span style="display:flex;"><span>          value <span style="color:#f92672">=</span> result[<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>          value <span style="color:#f92672">=</span> series[n]
</span></span><span style="display:flex;"><span>        last_level, level <span style="color:#f92672">=</span> level, alpha<span style="color:#f92672">*</span>value <span style="color:#f92672">+</span> (<span style="color:#ae81ff">1</span><span style="color:#f92672">-</span>alpha)<span style="color:#f92672">*</span>(level<span style="color:#f92672">+</span>trend)
</span></span><span style="display:flex;"><span>        trend <span style="color:#f92672">=</span> beta<span style="color:#f92672">*</span>(level<span style="color:#f92672">-</span>last_level) <span style="color:#f92672">+</span> (<span style="color:#ae81ff">1</span><span style="color:#f92672">-</span>beta)<span style="color:#f92672">*</span>trend
</span></span><span style="display:flex;"><span>        result<span style="color:#f92672">.</span>append(level<span style="color:#f92672">+</span>trend)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> result
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># &gt;&gt;&gt; double_exponential_smoothing(series, alpha=0.9, beta=0.9)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># [3, 17.0, 15.45, 14.210500000000001, 11.396044999999999, 8.183803049999998, 12.753698384500002, 13.889016464000003]</span>
</span></span></code></pre></div><p>And here is a picture of double exponential smoothing in action (the
green dotted line).</p>
<p><img src="/images/hw03.png" alt=""></p>
<h2 id="quick-review">Quick Review</h2>
<p>We&rsquo;ve learned that a data point in a series can be represented as a
level and a trend, and we have learned how to appliy exponential
smoothing to each of them to be able to forecast not one, but two
points.</p>
<p>In <a href="/blog/2016/02/17/triple-exponential-smoothing-forecasting-part-iii/">Part III</a>
we&rsquo;ll finally talk about triple exponential smoothing.</p>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div></article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white white-70 dn dib-ns pv2 ph3 no-underline" href="http://localhost:1313/" >
    &copy;  Gregory Trubetskoy 2026 
  </a>
    <div><div class="ananke-socials"></div>
</div>
  </div>
</footer>

  </body>
</html>
