<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Holt-Winters Forecasting for Dummies - Part II - Gregory Trubetskoy</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="" /><meta name="description" content="If you haven&rsquo;t read Part I you probably should, or the following will be hard to make sense of.
All the forecasting methods we covered so far, including single exponential smoothing, were only good at predicting a single point. We can do better than that, but first we need to be introduced to a couple of new terms.
More terminology Level Expected value has another name, which, again varies depending on who wrote the text book: baseline, intercept (as in Y-intercept) or level. We will stick with &ldquo;level&rdquo; here.
" />






<meta name="generator" content="Hugo 0.146.0 with theme even" />


<link rel="canonical" href="https://grisha.org/blog/2016/02/16/triple-exponential-smoothing-forecasting-part-ii/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">

<link rel="stylesheet" href="/css/custom.css">


<meta property="og:url" content="https://grisha.org/blog/2016/02/16/triple-exponential-smoothing-forecasting-part-ii/">
  <meta property="og:site_name" content="Gregory Trubetskoy">
  <meta property="og:title" content="Holt-Winters Forecasting for Dummies - Part II">
  <meta property="og:description" content="If you haven’t read Part I you probably should, or the following will be hard to make sense of.
All the forecasting methods we covered so far, including single exponential smoothing, were only good at predicting a single point. We can do better than that, but first we need to be introduced to a couple of new terms.
More terminology Level Expected value has another name, which, again varies depending on who wrote the text book: baseline, intercept (as in Y-intercept) or level. We will stick with “level” here.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2016-02-16T13:05:00+00:00">
    <meta property="article:modified_time" content="2016-02-16T13:05:00+00:00">

  <meta itemprop="name" content="Holt-Winters Forecasting for Dummies - Part II">
  <meta itemprop="description" content="If you haven’t read Part I you probably should, or the following will be hard to make sense of.
All the forecasting methods we covered so far, including single exponential smoothing, were only good at predicting a single point. We can do better than that, but first we need to be introduced to a couple of new terms.
More terminology Level Expected value has another name, which, again varies depending on who wrote the text book: baseline, intercept (as in Y-intercept) or level. We will stick with “level” here.">
  <meta itemprop="datePublished" content="2016-02-16T13:05:00+00:00">
  <meta itemprop="dateModified" content="2016-02-16T13:05:00+00:00">
  <meta itemprop="wordCount" content="834">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Holt-Winters Forecasting for Dummies - Part II">
  <meta name="twitter:description" content="If you haven’t read Part I you probably should, or the following will be hard to make sense of.
All the forecasting methods we covered so far, including single exponential smoothing, were only good at predicting a single point. We can do better than that, but first we need to be introduced to a couple of new terms.
More terminology Level Expected value has another name, which, again varies depending on who wrote the text book: baseline, intercept (as in Y-intercept) or level. We will stick with “level” here.">

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Gregory Trubetskoy</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/posts/">
        <li class="mobile-menu-item">Archives</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">Gregory Trubetskoy</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/posts/">Archives</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Holt-Winters Forecasting for Dummies - Part II</h1>

      <div class="post-meta">
        <span class="post-time"> 2016-02-16 </span>
        
        
      </div>
    </header>

    
    <div class="post-content">
      <p>If you haven&rsquo;t read <a href="/blog/2016/01/29/triple-exponential-smoothing-forecasting/">Part I</a>
you probably should, or the following will be hard to make sense of.</p>
<p>All the forecasting methods we covered so far, including single
exponential smoothing, were only good at predicting a single
point. We can do better than that, but first we need to be introduced to
a couple of new terms.</p>
<h2 id="more-terminology">More terminology</h2>
<h3 id="level"><em>Level</em></h3>
<p>Expected value has another name, which, again varies depending on who wrote the
text book: <em>baseline</em>, <em>intercept</em> (as in
<a href="https://en.wikipedia.org/wiki/Y-intercept">Y-intercept</a>) or
<em>level</em>. We will stick with &ldquo;level&rdquo; here.</p>
<p>So level is that one predicted point that we learned how to calculate
in Part I. But because now it&rsquo;s going to be only part of calculation
of the forcast, we can no longer refer to it as $\hat{y}$ and will instead
use $\ell$.</p>
<h3 id="trend-or-slope"><em>Trend</em> or <em>Slope</em></h3>
<p>You should be familiar with
<a href="https://en.wikipedia.org/wiki/Slope">slope</a> from your high school algebra
class. What you might be a little rusty on is how to calculate it,
which is important, because a series slope has an interesting
characteristic. Slope is:</p>
$$
m = \dfrac{\Delta{y}} {\Delta{x}}
$$<p>where $\Delta{y}$ is the difference in the $y$ coordinates and
$\Delta{x}$ is the difference in the $x$ coordinates, respectively,
between two points. While in real algebraic problems $\Delta{x}$ could
be anything, in a series, from one point to the next, it is always</p>
<ol>
<li>Which means that for a series, slope between two adjacent points
is simply $\dfrac{\Delta{y}} {1}$ or $\Delta{y}$, or:</li>
</ol>
$$
b = y_x - y_{x-1}
$$<p>Where $b$ is <em>trend</em>. To the best of my understanding terms &ldquo;trend&rdquo;
and &ldquo;slope&rdquo; are interchangeable. In forecasting parlance &ldquo;trend&rdquo; is
more common, and in math notation forecasters refer to it as $b$
rather than $m$.</p>
<h4 id="additive-vs-multiplicative">Additive vs Multiplicative</h4>
<p>Another thing to know about trend is that instead of subtracting
$y\_{x-1}$ from $y\_x$, we could divide one by the other thereby
getting a ratio. The difference between these two approaches is
similar to how we can say that something costs $20 more or 5%
more. The variant of the method based on subtraction is known as
<em>additive</em>, while the one based on division is known as
<em>multiplicative</em>.</p>
<p>Practice shows that a ratio (i.e. multiplicative) is a more stable
predictor. The additive method, however is simpler to understand, and
going from additive to multiplicative is trivial once you understand
this whole thing. For this reason we will stick with the additive
method here, leaving the multiplicative method an exercise for the
reader.</p>
<h2 id="double-exponential-smoothing">Double Exponential Smoothing</h2>
<p>So now we have two components to a series: level and trend. In Part I
we learned several methods to forecast the level, and it should follow
that every one of these methods can be applied to the trend
just as well. E.g. the naive method would assume that trend between
last two points is going to stay the same, or we could average all
slopes between all points to get an average trend, use a moving trend
average or apply exponential smoothing.</p>
<p>Double exponential smoothing then is nothing more than exponential
smoothing applied to both level and trend. To express this in
mathematical notation we now need three equations: one for level, one
for the trend and one to combine the level and trend to get the
expected $\hat{y}$.</p>
$$
\begin{align}
& \ell_x = \alpha y_x + (1-\alpha)(\ell_{x-1} + b_{x-1})& \mbox{level} \\
& b_x = \beta(\ell_x - \ell_{x-1}) + (1-\beta)b_{x-1} & \mbox{trend} \\
& \hat{y}_{x+1} = \ell_x + b_x & \mbox{forecast}\\
\end{align}
$$<p>The first equation is from Part I, only now we&rsquo;re using $\ell$ instead
of $\hat{y}$ and on the right side the expected value becomes the sum
of level end trend.</p>
<p>The second equation introduces $\beta$, the <em>trend factor</em> (or
coefficient). As with $\alpha$, some values of ${\beta}$ work better
than others depending on the series.</p>
<p>Similarly to single exponential smoothing, where we used the first
observed value as the first expected, we can use the first observed
trend as the first expected. Of course we need at least two points to
compute the initial trend.</p>
<p>Because we have a level and a trend, this method can forecast not one,
but two data points. In Python:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># given a series and alpha, return series of smoothed points</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">double_exponential_smoothing</span>(series, alpha, beta):
</span></span><span style="display:flex;"><span>    result <span style="color:#f92672">=</span> [series[<span style="color:#ae81ff">0</span>]]
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> n <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">1</span>, len(series)<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> n <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>:
</span></span><span style="display:flex;"><span>            level, trend <span style="color:#f92672">=</span> series[<span style="color:#ae81ff">0</span>], series[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">-</span> series[<span style="color:#ae81ff">0</span>]
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> n <span style="color:#f92672">&gt;=</span> len(series): <span style="color:#75715e"># we are forecasting</span>
</span></span><span style="display:flex;"><span>          value <span style="color:#f92672">=</span> result[<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>          value <span style="color:#f92672">=</span> series[n]
</span></span><span style="display:flex;"><span>        last_level, level <span style="color:#f92672">=</span> level, alpha<span style="color:#f92672">*</span>value <span style="color:#f92672">+</span> (<span style="color:#ae81ff">1</span><span style="color:#f92672">-</span>alpha)<span style="color:#f92672">*</span>(level<span style="color:#f92672">+</span>trend)
</span></span><span style="display:flex;"><span>        trend <span style="color:#f92672">=</span> beta<span style="color:#f92672">*</span>(level<span style="color:#f92672">-</span>last_level) <span style="color:#f92672">+</span> (<span style="color:#ae81ff">1</span><span style="color:#f92672">-</span>beta)<span style="color:#f92672">*</span>trend
</span></span><span style="display:flex;"><span>        result<span style="color:#f92672">.</span>append(level<span style="color:#f92672">+</span>trend)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> result
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># &gt;&gt;&gt; double_exponential_smoothing(series, alpha=0.9, beta=0.9)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># [3, 17.0, 15.45, 14.210500000000001, 11.396044999999999, 8.183803049999998, 12.753698384500002, 13.889016464000003]</span>
</span></span></code></pre></div><p>And here is a picture of double exponential smoothing in action (the
green dotted line).</p>
<p><img src="/images/hw03.png" alt=""></p>
<h2 id="quick-review">Quick Review</h2>
<p>We&rsquo;ve learned that a data point in a series can be represented as a
level and a trend, and we have learned how to appliy exponential
smoothing to each of them to be able to forecast not one, but two
points.</p>
<p>In <a href="/blog/2016/02/17/triple-exponential-smoothing-forecasting-part-iii/">Part III</a>
we&rsquo;ll finally talk about triple exponential smoothing.</p>

    </div>

    
<footer class="post-footer">
      
      <nav class="post-nav">
        <a class="prev" href="/blog/2016/02/17/triple-exponential-smoothing-forecasting-part-iii/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Holt-Winters Forecasting for Dummies - Part III</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/blog/2016/01/29/triple-exponential-smoothing-forecasting/">
            <span class="next-text nav-default">Holt-Winters Forecasting for Dummies (or Developers) - Part I</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        <div id="disqus_thread"></div>
    <script type="text/javascript">
    (function() {
      
      
      if (window.location.hostname === 'localhost') return;

      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      var disqus_shortname = 'grisha';
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2013 - 
    2026<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  <script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>
  



<script type="text/javascript" src="/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js"></script>
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js" integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin="anonymous"></script>








</body>
</html>
