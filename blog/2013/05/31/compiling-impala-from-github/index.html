<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Compiling Impala from Github | Gregory Trubetskoy</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="Apparently Impala has two versions of source code, one internal to
Cloudera, the other available on Github. I&rsquo;m presuming that code gets
released to Github once undergone some level of internal scrutiny, but
I&rsquo;ve not seen any documentation on how one could tie publically
available code to the official Impala (binary) release, currently 1.0.
Anyway, I tried compiling the github code last night, and here are the
steps that worked for me.">
    <meta name="generator" content="Hugo 0.146.0">
    
    
    
      <meta name="robots" content="index, follow">
    
    <meta name="author" content="Gregory Trubetskoy">
    

    
<link rel="stylesheet" href="/ananke/css/main.min.d05fb5f317fcf33b3a52936399bdf6f47dc776516e1692e412ec7d76f4a5faa2.css" >




    


    
      

    

    

    
      <link rel="canonical" href="https://grisha.org/blog/2013/05/31/compiling-impala-from-github/">
    

    
    
    <meta property="og:url" content="https://grisha.org/blog/2013/05/31/compiling-impala-from-github/">
  <meta property="og:site_name" content="Gregory Trubetskoy">
  <meta property="og:title" content="Compiling Impala from Github">
  <meta property="og:description" content="Apparently Impala has two versions of source code, one internal to Cloudera, the other available on Github. I’m presuming that code gets released to Github once undergone some level of internal scrutiny, but I’ve not seen any documentation on how one could tie publically available code to the official Impala (binary) release, currently 1.0.
Anyway, I tried compiling the github code last night, and here are the steps that worked for me.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2013-05-31T10:48:00+00:00">
    <meta property="article:modified_time" content="2013-05-31T10:48:00+00:00">

  <meta itemprop="name" content="Compiling Impala from Github">
  <meta itemprop="description" content="Apparently Impala has two versions of source code, one internal to Cloudera, the other available on Github. I’m presuming that code gets released to Github once undergone some level of internal scrutiny, but I’ve not seen any documentation on how one could tie publically available code to the official Impala (binary) release, currently 1.0.
Anyway, I tried compiling the github code last night, and here are the steps that worked for me.">
  <meta itemprop="datePublished" content="2013-05-31T10:48:00+00:00">
  <meta itemprop="dateModified" content="2013-05-31T10:48:00+00:00">
  <meta itemprop="wordCount" content="359">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Compiling Impala from Github">
  <meta name="twitter:description" content="Apparently Impala has two versions of source code, one internal to Cloudera, the other available on Github. I’m presuming that code gets released to Github once undergone some level of internal scrutiny, but I’ve not seen any documentation on how one could tie publically available code to the official Impala (binary) release, currently 1.0.
Anyway, I tried compiling the github code last night, and here are the steps that worked for me.">

      
      
    
	
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    jax: ["input/TeX", "output/HTML-CSS"],
    tex2jax: {
      inlineMath: [ ['$', '$'] ],
      displayMath: [ ['$$', '$$']],
      processEscapes: true,
    },
    messageStyle: "none",
    "HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] }
  });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script>

  </head><body class="ma0 avenir bg-near-white production">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l center items-center justify-between">
    <a href="/" class="f3 fw2 hover-white white-90 dib no-underline">
      
        Gregory Trubetskoy
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white white-90 no-underline" href="/archives/" title="Archives page">
              Archives
            </a>
          </li>
          
        </ul>
      
      <div class="ananke-socials"></div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l mw7 center ph3 flex-wrap justify-between">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
          
        Posts
      </aside><div id="sharing" class="mt3 ananke-socials"></div>
<h1 class="f1 athelas mt3 mb1">Compiling Impala from Github</h1>
      
      <p class="tracked"><strong>Gregory Trubetskoy</strong>
      </p>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2013-05-31T10:48:00Z">May 31, 2013</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-100-l"><p>Apparently Impala has two versions of source code, one internal to
Cloudera, the other available on Github. I&rsquo;m presuming that code gets
released to Github once undergone some level of internal scrutiny, but
I&rsquo;ve not seen any documentation on how one could tie publically
available code to the official Impala (binary) release, currently 1.0.</p>
<p>Anyway, I tried compiling the github code last night, and here are the
steps that worked for me.</p>
<p>My setup:</p>
<ul>
<li>
<p>Linux CentOS 6.2 (running inside a VirtualBox instance on an Early 2011 MacBook, Intel i7).</p>
</li>
<li>
<p>CDH 4.3 installed using Cloudera RPM&rsquo;s. No configuration was done, I
just ran yum install as described in the installation guide.</p>
</li>
<li>
<p>Impala checked out from Github, HEAD is 60cb0b75 (Mon May 13 09:36:37 2013).</p>
</li>
<li>
<p>Boost 1.42, compiled and installed manually (see below).</p>
</li>
</ul>
<p>The steps I followed:</p>
<ul>
<li>Check out Impala:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>git clone git://github.com/cloudera/impala.git
</span></span><span style="display:flex;"><span>&lt;...&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>git branch -v
</span></span><span style="display:flex;"><span>* master 60cb0b7 Fixed formatting in README
</span></span></code></pre></div><ul>
<li>Install Impala pre-requisites as per Impala README, except for Boost:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo yum install libevent-devel automake libtool flex bison gcc-c++ openssl-devel <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    make cmake doxygen.x86_64 glib-devel python-devel bzip2-devel svn <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    libevent-devel cyrus-sasl-devel wget git unzip
</span></span></code></pre></div><ul>
<li>
<p>Install LLVM. Follow the precise steps in the Impala README, it works.</p>
</li>
<li>
<p>Make sure you have the Oracle JDK 6, not OpenJDK. I found <a href="http://www.if-not-true-then-false.com/2010/install-sun-oracle-java-jdk-jre-6-on-fedora-centos-red-hat-rhel/">this link</a> helpful.</p>
</li>
<li>
<p>Remove the CentOS version of Boost (1.41) if you have it. Impala
needs uuid, which is only supported in 1.42 and later:</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#75715e"># YMMV - this is how I did it, you may want to be more cautious</span>
</span></span><span style="display:flex;"><span>sudo yum erase <span style="color:#e6db74">`</span>rpm -qa | grep boost<span style="color:#e6db74">`</span>
</span></span></code></pre></div><ul>
<li>
<p>Download and untar Boost 1.42 from <a href="http://www.boost.org/users/history/version_1_42_0.html">http://www.boost.org/users/history/version_1_42_0.html</a></p>
</li>
<li>
<p>Compile and install Boost. Note that Boost <em>must</em> be compiled with multi-threaded support and the layout matters too. I ended up up using the following:</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>cd boost_1_42_0/
</span></span><span style="display:flex;"><span>./bootstrap.sh
</span></span><span style="display:flex;"><span><span style="color:#75715e"># not sure how necessary the --libdir=/usr/lib64 is, there was a post mentioning it, i followed this advice blindly</span>
</span></span><span style="display:flex;"><span>./bjam --libdir<span style="color:#f92672">=</span>/usr/lib64 threading<span style="color:#f92672">=</span>multi --layout<span style="color:#f92672">=</span>tagged
</span></span><span style="display:flex;"><span>sudo ./bjam --libdir<span style="color:#f92672">=</span>/usr/lib64 threading<span style="color:#f92672">=</span>multi --layout<span style="color:#f92672">=</span>tagged install
</span></span></code></pre></div><ul>
<li>
<p>Install Maven, just like the README says, only the URL didn&rsquo;t work, I used
<a href="http://archive.apache.org/dist/maven/binaries/apache-maven-3.0.4-bin.tar.gz">http://archive.apache.org/dist/maven/binaries/apache-maven-3.0.4-bin.tar.gz</a> instead</p>
</li>
<li>
<p>Now you should be able to compile Impala - just follow the steps in the README starting with <code>. bin/impala-config.sh</code></p>
</li>
</ul>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div></article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white white-70 dn dib-ns pv2 ph3 no-underline" href="https://grisha.org/" >
    &copy;  Gregory Trubetskoy 2026 
  </a>
    <div><div class="ananke-socials"></div>
</div>
  </div>
</footer>

  </body>
</html>
