<!DOCTYPE html>
<html lang="en" dir="auto" data-theme="auto">

<head>
	<meta name="generator" content="Hugo 0.146.0"><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Gregory Trubetskoy</title>

<meta name="description" content="Notes to self.">
<meta name="author" content="Gregory Trubetskoy">
<link rel="canonical" href="http://localhost:1313/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.da3211e5ef867bf2b75fd5a6515cfed7195c011e8ab735694e203810a827097b.css" integrity="sha256-2jIR5e&#43;Ge/K3X9WmUVz&#43;1xlcAR6KtzVpTiA4EKgnCXs=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="http://localhost:1313/atom.xml" title="rss">
<link rel="alternate" hreflang="en" href="http://localhost:1313/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
                color-scheme: dark;
            }

            .list {
                background: var(--theme);
            }

            .toc {
                background: var(--entry);
            }
        }

        @media (prefers-color-scheme: light) {
            .list::-webkit-scrollbar-thumb {
                border-color: var(--code-bg);
            }
        }

    </style>
</noscript>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.querySelector("html").dataset.theme = 'dark';
    } else if (localStorage.getItem("pref-theme") === "light") {
       document.querySelector("html").dataset.theme = 'light';
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.querySelector("html").dataset.theme = 'dark';
    } else {
        document.querySelector("html").dataset.theme = 'light';
    }

</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    jax: ["input/TeX", "output/HTML-CSS"],
    tex2jax: {
      inlineMath: [ ['$', '$'] ],
      displayMath: [ ['$$', '$$']],
      processEscapes: true,
    },
    messageStyle: "none",
    "HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] }
  });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script>

</head>
<body class="list" id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Gregory Trubetskoy (Alt + H)">Gregory Trubetskoy</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main"> 

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">How Data Points Build Up
    </h2>
  </header>
  <div class="entry-content">
    <p>This silly SVG animation (animation not my strong suit) demonstrates what happens when multiple Tgres data points arrive within the same step (i.e. smallest time interval for this series, also known as PDP, primary data point).
You browser does not support SVG objects? Explanation Let’s say we have a series with a step of 100 seconds. We receive the following data points, all within the 100 second interval of a single step:
...</p>
  </div>
  <footer class="entry-footer"><span title='2016-08-04 10:35:00 +0000 UTC'>August 4, 2016</span>&nbsp;·&nbsp;<span>Gregory Trubetskoy</span></footer>
  <a class="entry-link" aria-label="post link to How Data Points Build Up" href="http://localhost:1313/blog/2016/08/04/how-data-points-build-up/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Introducing Tgres - A Time Series DB on top of PostgreSQL
    </h2>
  </header>
  <div class="entry-content">
    <p>Tgres is a metrics collection and storage server, aka a time series database. I’m not very comfortable with referring to it as a database, because at least in case of Tgres, the database is actually PostgreSQL. But also “database” to me is in the same category as “operating system” or “compiler”, a thing so advanced that only few can claim to be it without appearing pretentious. But for the sake of tautology avoidance, I might occasionally refer to Tgres as a TS database.
...</p>
  </div>
  <footer class="entry-footer"><span title='2016-07-29 10:12:00 +0000 UTC'>July 29, 2016</span>&nbsp;·&nbsp;<span>Gregory Trubetskoy</span></footer>
  <a class="entry-link" aria-label="post link to Introducing Tgres - A Time Series DB on top of PostgreSQL" href="http://localhost:1313/blog/2016/07/29/introducing-tgres-a-time-series-db-on-top-of-postgresql/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Deploying a Golang app to AWS ECS with Terraform
    </h2>
  </header>
  <div class="entry-content">
    <p>I’ve put together a basic example of a “Hello World” Go program which runs in Amazon AWS Elastic Compute Service (ECS), which allows running applications in Docker containers and has the ability to scale on demand.
I initially wanted to write about the components of this system and the tools you use to deploy your application, but soon realized that this would make for an extremely long post, as the number of components required for a simple “Hello World” is mind boggling. However problematic it may seem, it’s par for the course, this is what takes to run an application in our cloudy times.
...</p>
  </div>
  <footer class="entry-footer"><span title='2016-04-19 10:53:00 +0000 UTC'>April 19, 2016</span>&nbsp;·&nbsp;<span>Gregory Trubetskoy</span></footer>
  <a class="entry-link" aria-label="post link to Deploying a Golang app to AWS ECS with Terraform" href="http://localhost:1313/blog/2016/04/19/deploying-a-golang-app-to-aws-ecs-with-terraform/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Holt-Winters Forecasting for Dummies - Part III
    </h2>
  </header>
  <div class="entry-content">
    <p>If you haven’t read Part I and Part II you probably should, or the following will be hard to make sense of.
In Part I we’ve learned how to forceast one point, in Part II we’ve learned how to forecast two points. In this part we’ll learn how to forecast many points.
More Terminology Season If a series appears to be repetitive at regular intervals, such an interval is referred to as a season, and the series is said to be seasonal. Seasonality is required for the Holt-Winters method to work, non-seasonal series (e.g. stock prices) cannot be forecasted using this method (would be nice though if they could be).
...</p>
  </div>
  <footer class="entry-footer"><span title='2016-02-17 10:39:00 +0000 UTC'>February 17, 2016</span>&nbsp;·&nbsp;<span>Gregory Trubetskoy</span></footer>
  <a class="entry-link" aria-label="post link to Holt-Winters Forecasting for Dummies - Part III" href="http://localhost:1313/blog/2016/02/17/holt-winters-forecasting-for-dummies-part-iii/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Holt-Winters Forecasting for Dummies - Part II
    </h2>
  </header>
  <div class="entry-content">
    <p>If you haven’t read Part I you probably should, or the following will be hard to make sense of.
All the forecasting methods we covered so far, including single exponential smoothing, were only good at predicting a single point. We can do better than that, but first we need to be introduced to a couple of new terms.
More terminology Level Expected value has another name, which, again varies depending on who wrote the text book: baseline, intercept (as in Y-intercept) or level. We will stick with “level” here.
...</p>
  </div>
  <footer class="entry-footer"><span title='2016-02-16 13:05:00 +0000 UTC'>February 16, 2016</span>&nbsp;·&nbsp;<span>Gregory Trubetskoy</span></footer>
  <a class="entry-link" aria-label="post link to Holt-Winters Forecasting for Dummies - Part II" href="http://localhost:1313/blog/2016/02/16/holt-winters-forecasting-for-dummies-part-ii/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Holt-Winters Forecasting for Dummies (or Developers) - Part I
    </h2>
  </header>
  <div class="entry-content">
    <p>This three part write up [Part II Part III] is my attempt at a down-to-earth explanation (and Python code) of the Holt-Winters method for those of us who while hypothetically might be quite good at math, still try to avoid it at every opportunity. I had to dive into this subject while tinkering on tgres (which features a Golang implementation). And having found it somewhat complex (and yet so brilliantly simple), figured that it’d be good to share this knowledge, and in the process, to hopefully solidify it in my head as well.
...</p>
  </div>
  <footer class="entry-footer"><span title='2016-01-29 15:36:00 +0000 UTC'>January 29, 2016</span>&nbsp;·&nbsp;<span>Gregory Trubetskoy</span></footer>
  <a class="entry-link" aria-label="post link to Holt-Winters Forecasting for Dummies (or Developers) - Part I" href="http://localhost:1313/blog/2016/01/29/holt-winters-forecasting-for-dummies-or-developers-part-i/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Storing Time Series in PostgreSQL efficiently
    </h2>
  </header>
  <div class="entry-content">
    <p>With the latest advances in PostgreSQL (and other db’s), a relational database begins to look like a very viable TS storage platform. In this write up I attempt to show how to store TS in PostgreSQL. (2016-12-17 Update: there is a part 2 of this article.)
A TS is a series of [timestamp, measurement] pairs, where measurement is typically a floating point number. These pairs (aka “data points”) usually arrive at a high and steady rate. As time goes on, detailed data usually becomes less interesting and is often consolidated into larger time intervals until ultimately it is expired.
...</p>
  </div>
  <footer class="entry-footer"><span title='2015-09-23 22:01:00 +0000 UTC'>September 23, 2015</span>&nbsp;·&nbsp;<span>Gregory Trubetskoy</span></footer>
  <a class="entry-link" aria-label="post link to Storing Time Series in PostgreSQL efficiently" href="http://localhost:1313/blog/2015/09/23/storing-time-series-in-postgresql-efficiently/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Time Series Accuracy - Graphite vs RRDTool
    </h2>
  </header>
  <div class="entry-content">
    <p>Back in my ISP days, we used data stored in RRDs to bill our customers. I wouldn’t try this with Graphite. In this write up I try to explain why it is so by comparing the method of recording time series used by Graphite, with the one used by RRDTool.
Graphite uses Whisper to store data, which in the FAQ is portrayed as a better alternative to RRDTool, but this is potentially misleading, because the flexibility afforded by the design of Whisper comes at the price of inaccuracy.
...</p>
  </div>
  <footer class="entry-footer"><span title='2015-05-04 17:40:00 +0000 UTC'>May 4, 2015</span>&nbsp;·&nbsp;<span>Gregory Trubetskoy</span></footer>
  <a class="entry-link" aria-label="post link to Time Series Accuracy - Graphite vs RRDTool" href="http://localhost:1313/blog/2015/05/04/time-series-accuracy-graphite-vs-rrdtool/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">On Time Series
    </h2>
  </header>
  <div class="entry-content">
    <p>Is it even a thing? Time Series is on its way to becoming a buzzword in the Information Technology circles. This has to do with the looming Internet of Things which shall cause the Great Reversal of Internet whereby upstream flow of data produced by said Things is expected to exceed the downstream flow. Much of this data is expected to be of the Time Series kind.
This, of course, is a money-making opportunity of the Big Data proportions all over again, and I predict we’re going to see a lot of Time Series support of various shapes and forms appearing in all manners of (mostly commercial) software.
...</p>
  </div>
  <footer class="entry-footer"><span title='2015-03-28 15:40:00 +0000 UTC'>March 28, 2015</span>&nbsp;·&nbsp;<span>Gregory Trubetskoy</span></footer>
  <a class="entry-link" aria-label="post link to On Time Series" href="http://localhost:1313/blog/2015/03/28/on-time-series/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">How InfluxDB Stores Data
    </h2>
  </header>
  <div class="entry-content">
    <p>A nice, reliable, horizontally scalable database that is designed specifically to tackle the problem of Time Series data (and does not require you to stand up a Hadoop cluster) is very much missing from the Open Source Universe right now.
InfluxDB might be able to fill this gap, it certainly aims to.
I was curious about how it structures and stores data and since there wasn’t much documentation on the subject and I ended up just reading the code, I figured I’d write this up. I only looked at the new (currently 0.9.0 in RC stage) version, the previous versions are significantly different.
...</p>
  </div>
  <footer class="entry-footer"><span title='2015-03-20 15:52:00 +0000 UTC'>March 20, 2015</span>&nbsp;·&nbsp;<span>Gregory Trubetskoy</span></footer>
  <a class="entry-link" aria-label="post link to How InfluxDB Stores Data" href="http://localhost:1313/blog/2015/03/20/how-influxdb-stores-data/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="http://localhost:1313/page/3/">
      «&nbsp;Prev&nbsp;
    </a>
    <a class="next" href="http://localhost:1313/page/5/">Next&nbsp;&nbsp;»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
        <span>&copy; 2026 <a href="http://localhost:1313/">Gregory Trubetskoy</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu');
    if (menu) {
        
        const scrollPosition = localStorage.getItem("menu-scroll-position");
        if (scrollPosition) {
            menu.scrollLeft = parseInt(scrollPosition, 10);
        }
        
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        const html = document.querySelector("html");
        if (html.dataset.theme === "dark") {
            html.dataset.theme = 'light';
            localStorage.setItem("pref-theme", 'light');
        } else {
            html.dataset.theme = 'dark';
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
